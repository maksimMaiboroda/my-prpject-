{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Posts/Posts.module.css","assets/img/avaCat.jpg","components/Profile/MyPosts/NewPostForm.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.module.css","components/Profile/MyPosts/Posts/Posts.jsx","components/Profile/MyPosts/NewPostForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Comment","RedirectComponent","this","props","to","React","Component","connect","module","exports","Posts","className","classes","postsContainer","src","avaCat","postsAva","item","message","postslikes","href","likesLink","likesCount","likesHeart","class","aria-hidden","maxLength200","maxLengthCreator","NewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","textareaWrap","Field","textarea","name","component","Textarea","validate","required","placeholder","btnTextarea","type","MyPosts","memo","newPostData","oldPostData","reverse","map","post","kei","id","myPosts","formData","addPostActionCreator","newPostText","postBody","profilePage","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","activateMode","deactivateEditMode","updateStatus","statusContent","onDoubleClick","btnStatus","onClick","onChange","e","currentTarget","value","onBlur","autoFocus","ProfileInfo","profile","content","pageProfileContent","contentProfileLeft","avaPrpfile","imgProfile","photos","large","iconUserNoName","contentProfileRight","nameUser","fullName","Profile","MyPostsContainer","ProfileContainer","userId","match","params","autorizedUser","history","push","getUserProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/3.e36866ca.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = state => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = Comment => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />;\r\n      return <Comment {...this.props} />;\r\n    }\r\n  }\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__Q-jb7\",\"textareaPost\":\"MyPosts_textareaPost__2SGZb\",\"buttonAddPost\":\"MyPosts_buttonAddPost__1LO7T\",\"postBody\":\"MyPosts_postBody__1Ngz0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Posts_item__2oMe2\",\"postsAva\":\"Posts_postsAva__3kSCl\",\"postsContainer\":\"Posts_postsContainer__3f11y\",\"postslikes\":\"Posts_postslikes__txK6J\",\"likesLink\":\"Posts_likesLink__3m7W0\",\"likesHeart\":\"Posts_likesHeart__29t_a\"};","module.exports = __webpack_public_path__ + \"static/media/avaCat.1f20781a.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textareaWrap\":\"NewPostForm_textareaWrap__1YKpj\",\"textarea\":\"NewPostForm_textarea__2CkLH\",\"btnTextarea\":\"NewPostForm_btnTextarea__BF4VT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headImages\":\"ProfileInfo_headImages__2hWpn\",\"pageProfileContent\":\"ProfileInfo_pageProfileContent__3R8mE\",\"contentProfileLeft\":\"ProfileInfo_contentProfileLeft__2-xwh\",\"contentProfileRight\":\"ProfileInfo_contentProfileRight__2-XuJ\",\"avaPrpfile\":\"ProfileInfo_avaPrpfile__3GV4_\",\"imgProfile\":\"ProfileInfo_imgProfile__124ES\",\"linkSocial\":\"ProfileInfo_linkSocial__1stWA\",\"nameUser\":\"ProfileInfo_nameUser__30Zd5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusContent\":\"ProfileStatusWithHooks_statusContent__3tvqJ\",\"status\":\"ProfileStatusWithHooks_status__2_VKE\",\"btnStatus\":\"ProfileStatusWithHooks_btnStatus__pCXPs\"};","import React from \"react\";\r\nimport classes from \"./Posts.module.css\";\r\nimport avaCat from \"../../../../assets/img/avaCat.jpg\";\r\n\r\nconst Posts = props => {\r\n  return (\r\n    <>\r\n      <div className={classes.postsContainer}>\r\n        <img src={avaCat} className={classes.postsAva}></img>\r\n        <div className={classes.item}>{props.message}</div>\r\n      </div>\r\n      <div className={classes.postslikes}>\r\n        <a href=\"#\" className={classes.likesLink}>\r\n         \r\n            {props.likesCount}\r\n            <span className={classes.likesHeart}>\r\n              <i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          \r\n        </a>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  required,\r\n  maxLengthCreator\r\n} from \"../../../utils/validators/validarion\";\r\nimport { Textarea } from \"../../common/FormsControls/FormsControls\";\r\nimport classes from \"./NewPostForm.module.css\"\r\n\r\nconst maxLength200 = maxLengthCreator(200);\r\n\r\nconst NewPostForm = props => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div className={classes.textareaWrap}>\r\n        <Field\r\n          className={classes.textarea}\r\n          name=\"newPostText\"\r\n          component={Textarea}\r\n          validate={[required, maxLength200]}\r\n          placeholder={\"Post message\"}\r\n        />\r\n        <div />\r\n      </div>\r\n      <div>\r\n        <button className={classes.btnTextarea} type=\"submit\">Add new post!</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst NewPostFormRedux = reduxForm({\r\n  // a unique name for the form\r\n  form: \"newPost\"\r\n})(NewPostForm);\r\n\r\nexport default NewPostFormRedux;\r\n","import React from \"react\";\r\nimport classes from \"./MyPosts.module.css\";\r\nimport Posts from \"./Posts/Posts\";\r\nimport NewPostFormRedux from \"./NewPostForm\";\r\n\r\nconst MyPosts = React.memo(props => {\r\n  let newPostData = [...props.oldPostData]\r\n    .reverse()\r\n    .map(post => (\r\n      <Posts\r\n        message={post.message}\r\n        likesCount={post.likesCount}\r\n        kei={post.id}\r\n      />\r\n    ));\r\n\r\n  const onSubmit = formData => {\r\n    props.addPostActionCreator(formData.newPostText);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.myPosts}>\r\n      <h3>My posts</h3>\r\n      <NewPostFormRedux onSubmit={onSubmit} {...props} />\r\n      <div className={classes.postBody}>{newPostData}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default MyPosts;\r\n","import React from \"react\";\r\nimport { addPostActionCreator } from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToProps = state => {\r\n  return {\r\n    oldPostData: state.profilePage.oldPostData\r\n  };\r\n};\r\n\r\nexport default  connect(mapStateToProps, { addPostActionCreator })(\r\n  MyPosts\r\n);\r\n","import React, { useState } from \"react\";\r\nimport classes from \"./ProfileStatusWithHooks.module.css\";\r\n\r\nconst ProfileStatusWithHooks = props => {\r\n  let [editMode, setEditMode] = useState(false);\r\n\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  const onStatusChange = e => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  const activateMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.statusContent} >\r\n      {!editMode && (\r\n        <>\r\n          <div>\r\n            <span className={classes.status} onDoubleClick={activateMode}>\r\n              {props.status}\r\n            </span>\r\n          </div>\r\n          <button className={classes.btnStatus}\r\n            onClick={() => {\r\n              activateMode();\r\n            }}\r\n          >\r\n            Change status\r\n          </button>\r\n        </>\r\n      )}\r\n      {editMode && (\r\n        <>\r\n          <div>\r\n            <input\r\n              onChange={onStatusChange}\r\n              onBlur={deactivateEditMode}\r\n              autoFocus={true}\r\n              value={status}\r\n            ></input>\r\n          </div>\r\n          <button className={classes.btnStatus}\r\n        onClick={() => {\r\n          deactivateEditMode();\r\n        }}\r\n      >\r\n        Change status\r\n      </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from \"react\";\r\nimport classes from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../common/preloader/preloader\";\r\nimport iconUserNoName from \"../../../assets/img/iconUser.png\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({ profile, status, updateStatus }) => {\r\n  if (!profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.content}>\r\n      <div className={classes.pageProfileContent}>\r\n        <div className={classes.contentProfileLeft}>\r\n          <div className={classes.avaPrpfile}>\r\n            <img\r\n              className={classes.imgProfile}\r\n              src={\r\n                profile.photos.large != null\r\n                  ? profile.photos.large\r\n                  : iconUserNoName\r\n              }\r\n            ></img>\r\n          </div>\r\n        </div>\r\n        <div className={classes.contentProfileRight}>\r\n          <div className={classes.nameUser}>{profile.fullName}</div>\r\n          <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport classes from \"./Profile.module.css\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = props => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n      />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getUserProfile,\r\n  getStatus,\r\n  updateStatus\r\n} from \"../../redux/profileReducer\";\r\nimport { withRouter, Redirect } from \"react-router-dom\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.autorizedUser;\r\n      if (!userId){\r\n        this.props.history.push(\"/login\")\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateStatus={this.props.updateStatus}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = state => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  autorizedUser: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\r\n  withRouter\r\n  // withAuthRedirect\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}